<!DOCTYPE html>
<html lang="en">
<<<<<<< HEAD

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Document</title>
</head>

<body onload="getData()">

    <!-- The core Firebase JS SDK is always required and must be listed first -->

    <!--<script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-auth.js"></script>-->

    <!--<script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-database.js"></script>-->
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-analytics.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyASvw80DuelGaKx3v3NoK4eo13tT_C1Q7U",
            authDomain: "dpprojekt-3d1fd.firebaseapp.com",
            databaseURL: "https://dpprojekt-3d1fd.firebaseio.com",
            projectId: "dpprojekt-3d1fd",
            storageBucket: "dpprojekt-3d1fd.appspot.com",
            messagingSenderId: "455950445352",
            appId: "1:455950445352:web:c551266cc5d56e5ecd7e1d",
            measurementId: "G-91EEZ5MBPF"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        function writeData() {
            var key = firebase.database().ref().child("users").push().key;
            var database = firebase.database();
            database.ref('users/').push({
                Task: document.getElementById("taskField").value,
                Taskd: document.getElementById("taskdField").value,
                Date: document.getElementById("pickDate").value,
                Type: document.getElementById("type").value,
                key: key
            });
            getData();
        }
        // Get a reference to the database service
        function getData() 
        {
            un_task_con = document.getElementsByClassName("container")[0];
            un_task_con.innerHTML = "";
            task_array = [];
            firebase.database().ref("users").on('value', function (snapshot) {
                snapshot.forEach(function (childSnapshot) {
                    var childKey = childSnapshot.key;
                    var childData = childSnapshot.val();
                    task_array.push(Object.values(childData));
                });

                for (var i, i = 0; i < task_array.length; i++) {

                    task_t = task_array[i][1];
                    task_td = task_array[i][2];
                    task_date = task_array[i][0];
                    task_type = task_array[i][3];
                    task_key = task_array[i][4];

                    task_container = document.createElement("div");
                    task_container.setAttribute("class", "task_container");
                    task_container.setAttribute("data-key", task_key);
                    // TASK DATA

                    let task_data = document.createElement('div');
                    task_data.setAttribute('id', 'task_data');
                    let title = document.createElement('p');
                    title.setAttribute('id', 'task_t');
                    title.setAttribute('contenteditable', false);
                    title.innerHTML = "Title : " + task_t + "<br>" + " Description : " + task_td;
                    let date = document.createElement('p');
                    date.setAttribute('id', 'task_date');
                    date.setAttribute('contenteditable', false);
                    date.innerHTML = "Date : " + task_date + "<br>" + " Type : " + task_type;
                    //  let task_de = document.createElement('p');

                    //task_de.setAttribute('id', 'task_d');

                    //task_de.setAttribute('contenteditable', false);

                    //task_de.innerHTML = task_td;

                    //let type = document.createElement('p');

                    //type.setAttribute('id', 'task_type');

                    //type.setAttribute('contenteditable', false);

                    //type.innerHTML = task_type;
                    //task Tools
                     task_tool = document.createElement('div');
                    task_tool.setAttribute('id', 'task_tool');
                     task_done_button = document.createElement('button');
                    task_done_button.setAttribute('id', 'task_done_button');
                    task_done_button.setAttribute('onclick', "task_done(this.parentElement.parentElement, this.parentElement)");
                     fa_done = document.createElement('i');
                    fa_done.setAttribute('class', 'fa fa-check');
                     task_edit_button = document.createElement('button');
                    task_edit_button.setAttribute('id', 'task_edit_button');
                    task_edit_button.setAttribute('onclick', "task_edit(this.parentElement.parentElement, this)");
                     fa_edit = document.createElement('i');
                    fa_edit.setAttribute('class', 'fa fa-pencil');
                     task_delete_button = document.createElement('button');
                    task_delete_button.setAttribute('id', 'task_delete_button');
                    task_delete_button.setAttribute('onclick', "task_delete(this.parentElement.parentElement)");
                     fa_delete = document.createElement('i');
                    fa_delete.setAttribute('class', 'fa fa-trash');

                    un_task_con.append(task_container);
                    task_container.append(task_data);
                    task_data.append(title);
                    task_data.append(date);
                    //task_data.append(task_de);
                    //task_data.append(type);

                    task_container.append(task_tool);
                    task_tool.append(task_done_button);
                    task_done_button.append(fa_done);
                    task_tool.append(task_edit_button);
                    task_edit_button.append(fa_edit);
                    task_tool.append(task_delete_button);
                    task_delete_button.append(fa_delete);
                }
                // document.getElementById("data").innerHTML=task_t+" \n "+task_td+" \n "+task_date+" \n "+task_type;
            });
        }
        function create_finished_task() 
        {
            finished_task_container = document.getElementsByClassName("container")[1];
            finished_task_container.innerHTML = "";
            finished_task_array = [];
            firebase.database().ref("finished_task").once('value', function (snapshot) {
                snapshot.forEach(function (childSnapshot) {
                    var childKey = childSnapshot.key;
                    var childData = childSnapshot.val();
                    finished_task_array.push(Object.values(childData));
                });
                for (var i, i = 0; i < finished_task_array.length; i++) {
                    task_t = finished_task_array[i][1];
                    task_td = finished_task_array[i][2];
                    task_date = finished_task_array[i][0];
                    task_type = finished_task_array[i][3];
                    task_key = finished_task_array[i][4];

                   let task_container = document.createElement("div");
                    task_container.setAttribute("class", "task_container");
                    task_container.setAttribute("data-key", task_key);

                    // TASK DATA
                    let task_data = document.createElement('div');
                    task_data.setAttribute('id', 'task_data');
                    let title = document.createElement('p');
                    title.setAttribute('id', 'task_title');
                    title.setAttribute('contenteditable', false);
                    title.innerHTML = "Title : " + task_t + "<br>" + " Description : " + task_td;

                    let date = document.createElement('p');
                    date.setAttribute('id', 'task_date');
                    date.setAttribute('contenteditable', false);
                    date.innerHTML ="Date : " + task_date + "<br>" + " Type : " + task_type;


                    // TASK TOOLS
                    let task_tool = document.createElement('div');
                    task_tool.setAttribute('id', 'task_tool');
                    let task_delete_button = document.createElement('button');
                    task_delete_button.setAttribute('id', 'task_delete_button');
                    task_delete_button.setAttribute('onclick', "task_finished_delete(this.parentElement.parentElement)");
                    let fa_delete = document.createElement('i');
                    fa_delete.setAttribute('class', 'fa fa-trash');

                    finished_task_container.append(task_container);
                    task_container.append(task_data);
                    task_data.append(title);
                    task_data.append(date);
                    task_container.append(task_tool);
                    task_tool.append(task_delete_button);
                    task_delete_button.append(fa_delete);
                }
            });
        }

        function task_done(task, task_tool) 
        {

            finished_task_container = document.getElementsByClassName("container")[1];
            task.removeChild(task_tool);
            finished_task_container.append(task);
            var key = task.getAttribute("data-key");
            var task_obj = {
                title: task.childNodes[0].childNodes[0].innerHTML,
                date: task.childNodes[0].childNodes[2].innerHTML,
                description:task.childNodes[0].childNodes[1].innerHTML,
                type:task.childNodes[0].childNodes[3].innerHTML,
                key: task.childNodes[0].childNodes[4].innerHTML

            };

            console.log(key);
            console.log(task_obj);
            var updates = {};
            updates["/finished_task/" + key] = task_obj;
            firebase.database().ref().update(updates);
            // delete our task from unfinished
            task_delete(task);
            create_finished_task();
        }

        function task_edit(task, edit_button) 
        {

            edit_button.setAttribute('id', 'task_edit_button_editing');
            edit_button.setAttribute('onclick', 'finish_edit(this.parentElement.parentElement, this)');

            let title = task.childNodes[0].childNodes[0];
            title.setAttribute('contenteditable', true);
            title.setAttribute('id', 'title_editing');
            title.focus();

            let description=task.childNodes[0].childNodes[1];
            description.setAttribute('contenteditable',true);
            description.setAttribute('id','title_editing');
             description.focus();

            let date = task.childNodes[0].childNodes[2];
            date.setAttribute('contenteditable', true);
            date.setAttribute('id', 'date_editing');
            date.focus();
            
            let type=task.childNodes[0].childNodes[3];
            type.setAttribute('contenteditable',true);
            type.setAttribute('id','date_editing');
            type.focus();

        }

        function finish_edit(task, edit_button)
         {

            edit_button.setAttribute('id', 'task_edit_button');
            edit_button.setAttribute('onclick', 'task_edit(this.parentElement.parentElement, this)');

            let title = task.childNodes[0].childNodes[0];
            title.setAttribute('contenteditable', false);
            title.setAttribute('id', 'task_title');

            let date = task.childNodes[0].childNodes[2];
            date.setAttribute('contenteditable', false);
            date.setAttribute('id', 'task_date');

            let description=task.childNodes[0].childNodes[1];
            description.setAttribute('contenteditable',false);
            description.setAttribute('id','title_editing');
            
            let type=task.childNodes[0].childNodes[3];
            type.setAttribute('contenteditable',false);
            type.setAttribute('id','date_editing');

            // change in firebase to

            var key = task.getAttribute("data-key");
            var task_obj = {
                title: task.childNodes[0].childNodes[0].innerHTML,
                date: task.childNodes[0].childNodes[2].innerHTML,
                description: task.childNodes[0].childNodes[1].innerHTML,
                type: task.childNodes[0].childNodes[3].innerHTML,
                key: task.childNodes[0].childNodes[4].innerHTML
            };

             console.log(key);
             console.log(task_obj);
            var updates = {};

            updates['/users/' + key] = task_obj;

            firebase.database().ref().update(updates);
        }

        function task_delete(task) 
        {
            var key = firebase.database().ref().child("users").push().key;
            task_to_remove = firebase.database().ref("users/" + key);
            task_to_remove.remove();
            // remove from html view or whatevesss
            console.log(key);
            console.log(task.remove());
        }


        function task_finished_delete(task) {
            key = task.getAttribute("data-key");
            task_to_remove = firebase.database().ref("finished_task/" + key);
            task_to_remove.remove();
            // remove from html view or whatevesss
            console.log(key);
            task.remove();
        }

    </script>
    <div id="userdata">
        <h1>User Data</h1>
        <label for="taskField">Enter Task : </label>
        <input type="text" placeholder="Enter Task" name="taskField" id="taskField"><br><br>
        <label for="taskdField">Enter Task Description: </label>
        <input type="text" placeholder="Enter Task Description" name="taskdField" id="taskdField"><br><br>
        <label for="pickDate">Assigning Date : </label>
        <input type="date" placeholder="Enter Date" name="pickDate" id="pickDate"><br><br>
        <label for="type">Type :</label>
        <input type="text" placeholder="Define type" name="type" id="type"><br><br>
        <button onclick="writeData()">Add Task</button>
    </div>
    <!-- Task To Do -->
    <p class="header"> Task </p>
    <div class="container">
    </div>
    <!-- Task Finished Yay -->
    <p class="header"> Finished </p>
    <div class="container">
        <div class="task_container">
            <div id="task_data">
                <p id="task_title" contenteditable="false"> Task Title 1 </p>
                <p id="task_date" contenteditable="false"> Task Date 1 </p>
            </div>
        </div>
        <div class="task_container">
            <div id="task_data">
                <p id="task_title" contenteditable="false"> Task Title 1 </p>
                <p id="task_date" contenteditable="false"> Task Date 1 </p>
            </div>
        </div>
        <div class="task_container">
            <div id="task_data">
                <p id="task_title" contenteditable="false"> Task Title 1 </p>
                <p id="task_date" contenteditable="false"> Task Date 1 </p>
            </div>
        </div>
    </div>
    </div>
</body>

=======
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProjektBoard</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Karla&display=swap" rel="stylesheet">    
    <script src="https://kit.fontawesome.com/6167bea25e.js" crossorigin="anonymous"></script>

</head>
<body>
<nav class="navigation-bar">
    <div class="logo">
        <h1>Projekt Board</h1>
    </div>
    <div class="user">
        <div class="img-user">
            <img src="/img/account_circle-24px.svg" alt="">
        </div>
        <div class="username">
           <h4> User</h4>
        </div>     
    </div>
</nav>
<div class="add-tasks">
    <i class="fa fa-plus-circle" aria-hidden="true"></i>
    <input type="text" placeholder=" ADD A NEW TASK">
</div>
<div class="box">
    <div class="box1">
        <div class="heading">
            <div class="image-pen">
                <i class="fa fa-pencil" aria-hidden="true"></i>
            </div>
            <div class="stage">
                <h3>BACKLOGS</h3>
            </div>
        </div>

        <div class="list-1">
            <ul>
                <li>
                    
                </li>
                <li>

                </li>
            </ul>
        </div>
    
    </div>
    <div class="box2">
        <div class="heading">
                <div class="image-pen">
                    <i class="fa fa-pencil" aria-hidden="true"></i>
                </div>
                <div class="stage">
                    <h3>IN PROGRESS</h3>
                </div>
            </div>  
        </div>

    <div class="box3">
        <div class="heading">
            <div class="image-pen">
                <i class="fa fa-pencil" aria-hidden="true"></i>
            </div>
            <div class="stage">
                <h3>ACCOMPLISHED</h3>
            </div>
        </div> 
        
    </div>
        
</div>
>>>>>>> c247eb573a56b9b2130a396e8b127418cce4ed43
</html>